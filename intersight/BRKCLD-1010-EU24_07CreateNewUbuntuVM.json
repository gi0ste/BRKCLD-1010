[{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Datacenter","Label":"Datacenter","Name":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseDatacenter)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Cluster.","Label":"Cluster","Name":"HypervisorClusterType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseCluster)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Hypervisor Host.","Label":"ESXi Host","Name":"HypervisorHostType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":255,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^(([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|(([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{0,4}|:[0-9A-Fa-f]{1,4})?|(:[0-9A-Fa-f]{1,4}){0,2})|(:[0-9A-Fa-f]{1,4}){0,3})|(:[0-9A-Fa-f]{1,4}){0,4})|:(:[0-9A-Fa-f]{1,4}){0,5})((:[0-9A-Fa-f]{1,4}){2}|:(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])(\\\\.(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])){3})|(([0-9A-Fa-f]{1,4}:){1,6}|:):[0-9A-Fa-f]{0,4}|([0-9A-Fa-f]{1,4}:){7}:)|[a-zA-Z0-9]+([a-zA-Z0-9-._]*[a-zA-Z0-9]))$"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseHost)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Folder","Label":"VM and Template Folder","Name":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseFolder)and(TypeofFolder eq 'VMTemplateFolder')and(Internal eq 'false') &$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Datastore.","Label":"Datastore","Name":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseDatastore)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Definition for a Virtual Machine Network","Label":"Network","Name":"Network","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network","Name":"Network","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Host.Name","VirtualSwitch.Name","DistributedSwitch.Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseNetwork)and(IndexMotypes ne virtualization.BaseKernelNetwork)and(('ClassId' eq 'virtualization.VmwareNetwork') or (('ClassId' eq 'virtualization.VmwareDistributedNetwork')and('UpLink' eq 'false')))&$expand=Host($select=Name),VirtualSwitch($select=Name),DistributedSwitch($select=Name)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a VirtualMachine.","Label":"VirtualMachine","Name":"VirtualMachineType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VirtualMachine","Name":"VirtualMachine","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath","PowerState","Host.Name","GuestInfo.OperatingSystem"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseVirtualMachine)and(IsTemplate eq 'false')&$expand=Host($select=Name)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Public Cloud Virtual Machine.","Label":"Cloud Virtual Machine Details","Name":"CloudVirtualMachineType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VirtualMachine","Name":"VirtualMachine","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":80,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity","Region.RegionId"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/AwsVirtualMachines?$filter=(State ne Terminated)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Identity"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Platforms supported for virtualization target devices","Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"VirtualizationPlatformType","EnableParameters":["VmIdentity"],"Name":"ShowParamsForAmazonWebService","ObjectType":"workflow.ParameterSet","Value":"AmazonWebService"},{"Condition":"eq","ControlParameter":"VirtualizationPlatformType","EnableParameters":["VM","Datacenter","Folder","ForceDelete"],"Name":"ShowParamsForVmwareVcenter","ObjectType":"workflow.ParameterSet","Value":"VmwareVcenter"}],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type for virtualization target device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"PlatformType AmazonWebService","ObjectType":"workflow.EnumEntry","Value":"AmazonWebService"},{"Label":"PlatformType VmwareVcenter","ObjectType":"workflow.EnumEntry","Value":"VmwareVcenter"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cloud Virtual Machine","Name":"VmIdentity","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"CloudVirtualMachineType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter in which the virtual machine resides","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder in which the virtual machine resides","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Deletes a virtual machine","Label":"Remove Virtual Machine","Name":"RemoveVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Virtualization"},{"Key":"platformType.VmwareVcenter","Value":"true"},{"Key":"platformType.AmazonWebService","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create new virtual machine on the selected Hypervisor based on specifications in a virtual machine or template file. The inputs cluster (or host), datastore, and template name or virtual machine are mandatory. If folder name is specified, then virtual machine will be placed within the folder. On successful execution, name of virtual machine and template name or virtual machine are generated as outputs.","Label":"New Virtual Machine from Template or Clone from Virtual Machine","Name":"NewVirtualMachineFromTemplate","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the virtual machine will be provisioned. Either a cluster or a host must be specified.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder (optional) in which the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Resource pool for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Resource Pool","Name":"ResourcePool","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datastore allocated for this virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Path of the template or virtual machine used to provision the virtual machine, template or virtual machine should be available locally in the hypervisor manager. When template or virtual machine is directly under a Datacenter  the template path or virtual machine path should be /<<DATACENTER>>/vm/<<TEMPLATE-NAME-or-VM-NAME>>\n\nWhen template or virtual machine is in a Datacenter and a Folder,  the template or virtual machine path should be /<<DATACENTER>>/vm/<<FOLDER>>/<<TEMPLATE-NAME-or-VM-Name>>\nFor example: Template 'Template1' in Datacenter 'DC1' should be /DC1/vm/Template1\nTemplate 'Template1' in Datacenter 'DC1' under a Folder 'Folder1', should be /DC1/vm/Folder1/Template1.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath","IsTemplate","PowerState"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseVirtualMachine)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Number of CPUs (optional) to allocate for the new virtual machine, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"CPUs","Name":"CPUs","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":1000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"GPU configurations to be applied on virtual machine","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"GPU configurations","Name":"GpuConfigs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Memory (optional) allocation for the new virtual machine, in multiples of 4MB, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Memory","Name":"Memory","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":100000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Annotation (optional) for the virtual machine. If not specified, virtual machine will not have any annotation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Annotation","Name":"Annotation","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If checked, virtual machine will be powered up after creation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Power On","Name":"PowerOn","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Network to be mapped to the Virtual Machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network","Name":"Network","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"Network","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"OVA environment customization spec as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"OVA Environment Spec","Name":"OVAEnvSpec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Configuration parameters specified as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Configuration Parameters","Name":"ExtraConfig","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Datacenter where virtual machine was created.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name of the Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder Name for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TaskId","Name":"TaskId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":256,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":100,"TimeoutPolicy":"Retry"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Remove provisioned virtual machine.","InputParameters":{"HypervisorManager":"${task.input.Vcenter}","VirtualizationPlatformType":"${task.output.VirtualizationPlatformType}"},"Name":"RemoveVirtualMachine","ObjectType":"workflow.RollbackTask","Version":3}],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Virtualization"},{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Alexa Cisco Live Demo - Create a Ubuntu virtual machine ","InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"07 Create New Ubuntu VM","Name":"07CreateNewUbuntuVM","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"ObjectType":"workflow.WorkflowProperties","Retryable":true,"SupportStatus":"Supported"},"SharedScope":"user","Tags":[{"Key":"owner","Value":"sgioia"},{"Key":"session","Value":"brkcld1010"}],"Tasks":[{"Name":"StartTask","NextTask":"NewVirtualMachineFromTemplate1","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Create new virtual machine on the selected Hypervisor based on specifications in a virtual machine or template file. The inputs cluster (or host), datastore, and template name or virtual machine are mandatory. If folder name is specified, then virtual machine will be placed within the folder. On successful execution, name of virtual machine and template name or virtual machine are generated as outputs.","InputParameters":{"Cluster":"/CISCOLIVE/host/CISCOLIVE-Cluster","Datacenter":"/CISCOLIVE","Datastore":"/CISCOLIVE/datastore/dsCISCOLIVE","Name":"${workflow.input.Name}","Network":"lab-130-DHCP","PowerOn":true,"Template":"/RMLAB-LYNCH/vm/Templates/t_UbuntuServer_22"},"Label":"New Virtual Machine from Template or Clone from Virtual Machine","Name":"NewVirtualMachineFromTemplate1","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"NewVirtualMachineFromTemplate","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":262,"Y":75},{"Name":"SuccessEndTask","X":262,"Y":244},{"Name":"FailureEndTask","X":402,"Y":244},{"Name":"NewVirtualMachineFromTemplate1","X":177,"Y":145}]},"VariableDefinition":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Delete Vmware Virtual Machine.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Delete Vmware Virtual Machine","Name":"RemoveVmwareVirtualMachineImpl","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove Public Cloud virtual machine","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Remove Public Cloud Virtual Machine","Name":"RemoveCloudVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.AmazonWebService","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Delete IWE virtual machine from hypervisor","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Remove IWE Virtual Machine","Name":"RemoveIWEVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Deletes HyperFlex AP virtual machine from hypervisor","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Remove HyperFlex AP Virtual Machine","Name":"RemoveHyperFlexAPVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"New Vmware virtual machine from template or Clone from Virtual Machine","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewVirtualMachineFromTemplate\" and Version eq 1"},"Label":"New Vmware Virtual Machine from Template or Clone from Virtual Machine","Name":"NewVMFromTemplateImpl","ObjectType":"workflow.TaskDefinition","Properties":{"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the virtual machine will be provisioned. Either a cluster or a host must be specified.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder (optional) in which the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Resource pool for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Resource Pool","Name":"ResourcePool","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datastore allocated for this virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Path of the template or virtual machine used to provision the virtual machine, template or virtual machine should be available locally in the hypervisor manager. When template or virtual machine is directly under a Datacenter  the template path or virtual machine path should be /<<DATACENTER>>/vm/<<TEMPLATE-NAME-or-VM-NAME>>\n\nWhen template or virtual machine is in a Datacenter and a Folder,  the template or virtual machine path should be /<<DATACENTER>>/vm/<<FOLDER>>/<<TEMPLATE-NAME-or-VM-Name>>\nFor example: Template 'Template1' in Datacenter 'DC1' should be /DC1/vm/Template1\nTemplate 'Template1' in Datacenter 'DC1' under a Folder 'Folder1', should be /DC1/vm/Folder1/Template1.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath","IsTemplate","PowerState"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseVirtualMachine)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Number of CPUs (optional) to allocate for the new virtual machine, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"CPUs","Name":"CPUs","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":1000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"GPU configurations to be applied on virtual machine","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"GPU configurations","Name":"GpuConfigs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Memory (optional) allocation for the new virtual machine, in multiples of 4MB, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Memory","Name":"Memory","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":100000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Annotation (optional) for the virtual machine. If not specified, virtual machine will not have any annotation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Annotation","Name":"Annotation","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If checked, virtual machine will be powered up after creation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Power On","Name":"PowerOn","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Network to be mapped to the Virtual Machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network","Name":"Network","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"Network","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"OVA environment customization spec as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"OVA Environment Spec","Name":"OVAEnvSpec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Configuration parameters specified as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Configuration Parameters","Name":"ExtraConfig","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Datacenter where virtual machine was created.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name of the Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder Name for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TaskId","Name":"TaskId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":256,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":100,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"SelectVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.SelectVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerState","ObjectType":"content.Parameter","Path":"$.PowerState","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMConfigForceDelete","ObjectType":"content.Parameter","Path":"$.ForceDelete","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(VmConfig.InventoryPath eq '{{.global.task.input.VirtualizationPlatformType.VM}}'  {{if index .global.task.input.VirtualizationPlatformType \"Datacenter\"}}{{if .global.task.input.VirtualizationPlatformType.Datacenter}}and VmConfig.Datacenter eq '{{.global.task.input.VirtualizationPlatformType.Datacenter}}' {{end}}{{end}}  {{if index .global.task.input.VirtualizationPlatformType \"Folder\"}}{{if .global.task.input.VirtualizationPlatformType.Folder}} and VmConfig.Folder eq '{{.global.task.input.VirtualizationPlatformType.Folder}}'{{end}}{{end}})"},{"Body":"{\"Name\": \"{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}\",\"Action\": \"PowerState\",\"PowerState\": \"PowerOff\",\"RegisteredDevice\": \"{{.global.task.input.HypervisorManager.Moid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"EditVirtualMachinePowerOffImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.EditVirtualMachinePowerOffImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine. Message: {{.global.EditVirtualMachinePowerOffImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"true","Message":"Power off action initiated for the virtual machine.","ObjectType":"workflow.Outcome"}],"Protocol":"https","SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.SelectVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.SelectVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Timeout":120,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.SelectVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVirtualMachinePowerStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"queued\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"InProgress\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Success\")}}true{{end}}","Message":"Virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' powered off successfully and is ready for removal.","ObjectType":"workflow.Outcome"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Failure\")}}true{{end}}","Message":"{{ .global.WatchVirtualMachinePowerStatusImpl.output.FailureReason }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{(ne .global.WatchVirtualMachinePowerStatusImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' . Message: {{.global.WatchVirtualMachinePowerStatusImpl.output.Error}}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.ActionInfo.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"FailureReason","ObjectType":"content.Parameter","Path":"$.ActionInfo.FailureReason","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.SelectVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.SelectVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Timeout":120,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.SelectVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveVmwareVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveVmwareVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveVmwareVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveVmwareVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Timeout":180,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.SelectVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVmwareRemoveVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{or (ContainsString .global.WatchVmwareRemoveVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchVmwareRemoveVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{eq .global.WatchVmwareRemoveVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{ne .global.WatchVmwareRemoveVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.SelectVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchVmwareRemoveVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Timeout":180,"Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveVmwareVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"VmwareVcenter"}},"Description":"Delete Vmware virtual machine.","Name":"RemoveVmwareVirtualMachineImpl","ObjectType":"workflow.BatchApiExecutor","Output":{"ForceDelete":"{{.global.task.input.VirtualizationPlatformType.ForceDelete}}","VM":"{{.global.task.input.VirtualizationPlatformType.VM}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVmwareVirtualMachineImpl\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetAWSVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.GetAWSVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(VmConfig.VmId eq '{{.global.task.input.VirtualizationPlatformType.VmIdentity}}')"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveCloudVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveCloudVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveCloudVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveCloudVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Timeout":180,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchAWSRemoveVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{or (ContainsString .global.WatchAWSRemoveVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchAWSRemoveVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{eq .global.WatchAWSRemoveVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{ne .global.WatchAWSRemoveVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchAWSRemoveVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveCloudVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"AmazonWebService"}},"Description":"Remove virtual machine","Name":"RemoveCloudVirtualMachine","ObjectType":"workflow.BatchApiExecutor","Output":{"VM":"{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveCloudVirtualMachine\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetIWEVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.GetIWEVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerState","ObjectType":"content.Parameter","Path":"$.PowerState","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMConfigForceDelete","ObjectType":"content.Parameter","Path":"$.ForceDelete","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(Inventory.Moid eq '{{.global.task.input.VirtualizationPlatformType.VM}}')"},{"Body":"{\"Name\": \"{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}\",\"Action\": \"PowerState\",\"PowerState\": \"PowerOff\",\"RegisteredDevice\": \"{{.global.task.input.HypervisorManager.Moid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"EditVirtualMachinePowerOffImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.EditVirtualMachinePowerOffImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine. Message: {{.global.EditVirtualMachinePowerOffImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"true","Message":"Power off action initiated for the virtual machine.","ObjectType":"workflow.Outcome"}],"Protocol":"https","SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVirtualMachinePowerStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.WatchVirtualMachinePowerStatusImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' . Message: {{.global.WatchVirtualMachinePowerStatusImpl.output.Error}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Failure\")}}true{{end}}","Message":"{{ .global.WatchVirtualMachinePowerStatusImpl.output.FailureReason }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"InProgress\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"queued\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Success\")}}true{{end}}","Message":"Virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' powered off successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.ActionInfo.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"FailureReason","ObjectType":"content.Parameter","Path":"$.ActionInfo.FailureReason","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveIWEVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveIWEVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveIWEVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveIWEVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchRemoveIWEVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.WatchRemoveIWEVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{or (ContainsString .global.WatchRemoveIWEVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchRemoveIWEVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{ne .global.WatchRemoveIWEVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchRemoveIWEVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveIWEVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"IWE"}},"Description":"Delete an existing IWE virtual machine","Name":"RemoveIWEVirtualMachine","ObjectType":"workflow.BatchApiExecutor","RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveIWEVirtualMachine\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetHyperFlexAPVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.GetHyperFlexAPVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerState","ObjectType":"content.Parameter","Path":"$.PowerState","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMConfigForceDelete","ObjectType":"content.Parameter","Path":"$.ForceDelete","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(Inventory.Moid eq '{{.global.task.input.VirtualizationPlatformType.VM}}')"},{"Body":"{\"Name\": \"{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}\",\"Action\": \"PowerState\",\"PowerState\": \"PowerOff\",\"RegisteredDevice\": \"{{.global.task.input.HypervisorManager.Moid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"EditVirtualMachinePowerOffImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.EditVirtualMachinePowerOffImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine. Message: {{.global.EditVirtualMachinePowerOffImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"true","Message":"Power off action initiated for the virtual machine.","ObjectType":"workflow.Outcome"}],"Protocol":"https","SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVirtualMachinePowerStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.WatchVirtualMachinePowerStatusImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' . Message: {{.global.WatchVirtualMachinePowerStatusImpl.output.Error}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Failure\")}}true{{end}}","Message":"{{ .global.WatchVirtualMachinePowerStatusImpl.output.FailureReason }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"InProgress\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"queued\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Success\")}}true{{end}}","Message":"Virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' powered off successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.ActionInfo.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"FailureReason","ObjectType":"content.Parameter","Path":"$.ActionInfo.FailureReason","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveHyperFlexAPVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveHyperFlexAPVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveHyperFlexAPVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveHyperFlexAPVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchRemoveHyperFlexAPVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.WatchRemoveHyperFlexAPVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{or (ContainsString .global.WatchRemoveHyperFlexAPVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchRemoveHyperFlexAPVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{ne .global.WatchRemoveHyperFlexAPVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchRemoveHyperFlexAPVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveHyperFlexAPVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"HyperFlexAP"}},"Description":"Delete an existing HyperFlexAP virtual machine","Name":"RemoveHyperFlexAPVirtualMachine","ObjectType":"workflow.BatchApiExecutor","RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveHyperFlexAPVirtualMachine\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{ \"ExtraConfig\": {{.global.task.input.ExtraConfig | ToJson}}, \"GpuConfigs\": {{.global.task.input.GpuConfigs | ToJson}}, \"OVFEnv\": {{.global.task.input.OVAEnvSpec | ToJson}}, \"Network\":{{ if .global.task.input.Network}}\"{{.global.task.input.Network}}\",{{else}}\"\",{{end}}\"Name\":\"{{.global.task.input.Name}}\" , \"Template\":\"{{.global.task.input.Template}}\", {{if .global.task.input.Datacenter}}\"Datacenter\":\"{{.global.task.input.Datacenter}}\", {{ else }}\"Datacenter\": \"\",{{end}} {{if .global.task.input.Folder}}\"Folder\":\"{{.global.task.input.Folder}}\", {{ else }}\"Folder\": \"\",{{end}} {{if .global.task.input.Cluster}}\"Cluster\":\"{{.global.task.input.Cluster}}\", {{ else }}\"Cluster\": \"\",{{end}} {{if .global.task.input.PowerOn}}\"Poweron\":{{.global.task.input.PowerOn}},{{ else }}\"Poweron\": false,{{end}} {{if .global.task.input.Host}}\"Host\":\"{{.global.task.input.Host}}\", {{ else }}\"Host\": \"\",{{end}} {{if .global.task.input.ResourcePool}}\"ResourcePool\":\"{{.global.task.input.ResourcePool}}\",{{ else }}\"ResourcePool\": \"\",{{end}} {{if .global.task.input.Annotation}}\"Annotation\":\"{{.global.task.input.Annotation}}\" , {{ else }}\"Annotation\": \"\",{{end}} {{if .global.task.input.CPUs}}\"CPUs\":{{.global.task.input.CPUs}},{{ else }}\"CPUs\": 0,{{end}} {{if .global.task.input.Memory}}\"Memory\":{{.global.task.input.Memory}},{{end}} \"Datastore\":\"{{.global.task.input.Datastore}}\" }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewVMFromTemplateImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.NewVMFromTemplateImpl.output.HttpStatusCode 200)}}","Message":"Failed to provision virtual machine '{{.global.task.input.Name}}'. Message: {{.global.NewVMFromTemplateImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{ and (eq .global.NewVMFromTemplateImpl.output.HttpStatusCode 200) (eq .global.NewVMFromTemplateImpl.output.TaskId \"\") }}","Message":"Virtual machine {{.global.task.input.Name}} already exists. Skip all other steps.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Provision virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"CPUs","ObjectType":"content.Parameter","Path":"$.CPUs","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"GpuConfigs","ObjectType":"content.Parameter","Path":"$.GpuConfigs","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Memory","ObjectType":"content.Parameter","Path":"$.Memory","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datacenter","ObjectType":"content.Parameter","Path":"$.Datacenter","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Folder","ObjectType":"content.Parameter","Path":"$.Folder","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Cluster","ObjectType":"content.Parameter","Path":"$.Cluster","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Host","ObjectType":"content.Parameter","Path":"$.Host","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ResourcePool","ObjectType":"content.Parameter","Path":"$.ResourcePool","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datastore","ObjectType":"content.Parameter","Path":"$.Datastore","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Annotation","ObjectType":"content.Parameter","Path":"$.Annotation","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Template","ObjectType":"content.Parameter","Path":"$.Template","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerOn","ObjectType":"content.Parameter","Path":"$.PowerOn","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"TaskId","ObjectType":"content.Parameter","Path":"$.TaskId","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Timeout":180,"Url":"/task/Execute/NewVMFromTemplate"},{"Body":" { \"TaskId\": \"{{.global.NewVMFromTemplateImpl.output.TaskId}}\", \"EntityInventoryPath\": \"{{.global.NewVMFromTemplateImpl.output.Template}}\", \"EntityType\": \"VIRTUAL-MACHINE\" }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"WatchProvisionVMStatus","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{if (ContainsString .global.WatchProvisionVMStatus.output.Status \"running\")}}true{{end}}","Message":"New virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchProvisionVMStatus.output.Status \"queued\")}}true{{end}}","Message":"New virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{eq .global.WatchProvisionVMStatus.output.HttpStatusCode 200}}","Message":"Virtual Machine '{{.global.task.input.Name}}' created successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{if (ContainsString .global.WatchProvisionVMStatus.output.HttpStatusMsg \"Task Failed\")}}true{{end}}","Message":"Failed to provision virtual machine '{{.global.task.input.Name}}'. Message: {{ .global.WatchProvisionVMStatus.output.Error }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.WatchProvisionVMStatus.output.HttpStatusCode 400}}","Message":"Failed to provision virtual machine '{{.global.task.input.Name}}'. Message: {{ .global.WatchProvisionVMStatus.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Progress","ObjectType":"content.Parameter","Path":"$.Progress","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"CompletionTime","ObjectType":"content.Parameter","Path":"$.CompletionTime","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Timeout":180,"Url":"/task/Execute/TaskMonitor"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Create new virtual machine from template or Clone from Virtual Machine","Name":"NewVMFromTemplateImpl","ObjectType":"workflow.BatchApiExecutor","Output":{"Cluster":"{{.global.NewVMFromTemplateImpl.output.Cluster}}","Datacenter":"{{.global.NewVMFromTemplateImpl.output.Datacenter}}","Folder":"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}{{end}}","Host":"{{.global.NewVMFromTemplateImpl.output.Host}}","Name":"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}/{{.global.NewVMFromTemplateImpl.output.Name}}{{else}}{{.global.NewVMFromTemplateImpl.output.Datacenter}}/vm/{{.global.NewVMFromTemplateImpl.output.Name}}{{end}}","TaskId":"{{.global.NewVMFromTemplateImpl.output.TaskId}}","Template":"{{.global.NewVMFromTemplateImpl.output.Template}}","VirtualizationPlatformType":"{\"VirtualizationPlatformType\": \"VmwareVcenter\",\"VM\": \"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}/{{.global.NewVMFromTemplateImpl.output.Name}}{{else}}{{.global.NewVMFromTemplateImpl.output.Datacenter}}/vm/{{.global.NewVMFromTemplateImpl.output.Name}}{{end}}\",\"Datacenter\": \"{{.global.NewVMFromTemplateImpl.output.Datacenter}}\",\"Folder\": \"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}{{end}}\",\"ForceDelete\": true}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewVMFromTemplateImpl\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"}]